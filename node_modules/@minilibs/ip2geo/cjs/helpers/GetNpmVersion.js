'use strict';

var _package = require('../package.json.js');
var Constants = require('../data/Constants.js');
var Console = require('./Console.js');

const GetNpmVersion = async () => {
    try {
        const response = await fetch(Constants.NPM_REGISTRY_URL);
        const data = await response.json();
        return data['dist-tags']?.latest || _package.version;
    }
    catch (error) {
        Console.Error('GetNpmVersion', error);
        return _package.version;
    }
};

module.exports = GetNpmVersion;
